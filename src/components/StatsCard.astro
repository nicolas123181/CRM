---
interface Props {
  title: string;
  value: string | number;
  icon: string;
  color?: 'blue' | 'green' | 'purple' | 'yellow' | 'indigo' | 'pink';
  trend?: string;
}

const { title, value, icon, color = 'blue', trend } = Astro.props;

const colorStyles = {
  blue: {
    bg: 'bg-blue-50',
    text: 'text-blue-600',
    iconBg: 'bg-blue-100',
    ring: 'ring-blue-100'
  },
  green: {
    bg: 'bg-emerald-50',
    text: 'text-emerald-600',
    iconBg: 'bg-emerald-100',
    ring: 'ring-emerald-100'
  },
  purple: {
    bg: 'bg-purple-50',
    text: 'text-purple-600',
    iconBg: 'bg-purple-100',
    ring: 'ring-purple-100'
  },
  yellow: {
    bg: 'bg-amber-50',
    text: 'text-amber-600',
    iconBg: 'bg-amber-100',
    ring: 'ring-amber-100'
  },
  indigo: {
    bg: 'bg-indigo-50',
    text: 'text-indigo-600',
    iconBg: 'bg-indigo-100',
    ring: 'ring-indigo-100'
  },
  pink: {
    bg: 'bg-pink-50',
    text: 'text-pink-600',
    iconBg: 'bg-pink-100',
    ring: 'ring-pink-100'
  }
};

const style = colorStyles[color];
---

<div class="relative overflow-hidden rounded-2xl bg-white p-6 shadow-sm ring-1 ring-gray-900/5 transition-all hover:shadow-md hover:ring-gray-900/10 group">
  <div class="flex items-center gap-4">
    <div class={`flex h-12 w-12 items-center justify-center rounded-xl ${style.iconBg} ${style.text} ring-1 ${style.ring} group-hover:scale-110 transition-transform duration-300`}>
      <span class="text-2xl">{icon}</span>
    </div>
    <div>
      <p class="text-sm font-medium text-gray-500">{title}</p>
      <p class="text-3xl font-bold tracking-tight text-gray-900">{value}</p>
    </div>
  </div>
  
  {trend && (
    <div class="mt-4 flex items-center text-sm">
      <span class="text-green-600 font-medium flex items-center gap-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4">
          <path fill-rule="evenodd" d="M12 7a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0V8.414l-4.293 4.293a1 1 0 01-1.414 0L8 10.414l-4.293 4.293a1 1 0 01-1.414-1.414l5-5a1 1 0 011.414 0L11 10.586 14.586 7H12z" clip-rule="evenodd" />
        </svg>
        {trend}
      </span>
      <span class="text-gray-400 ml-2">vs mes anterior</span>
    </div>
  )}

  <!-- Decorative background blob -->
  <div class={`absolute -right-6 -top-6 h-24 w-24 rounded-full ${style.bg} opacity-50 blur-2xl transition-all group-hover:opacity-100`}></div>
</div>
